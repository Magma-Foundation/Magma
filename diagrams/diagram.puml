@startuml
skinparam linetype ortho
interface Filter

class ListCollector
Collector <|-- ListCollector

class TypeScriptTargetPlatform
TargetPlatform <|-- TypeScriptTargetPlatform

interface Targets

interface TargetPlatform

class Joiner
Collector <|-- Joiner

class FlattenJava
Passer <|-- FlattenJava

class Tuple2

class ApplicationError
Error <|-- ApplicationError

class StagedCompiler
Compiler <|-- StagedCompiler

interface Compiler

class TypescriptRoots

class ImmutableCompileError
CompileError <|-- ImmutableCompileError

interface NodeList

class MapCollector
Collector <|-- MapCollector

interface Folder

class SymbolFilter
Filter <|-- SymbolFilter

class RuleGenerator
Generator <|-- RuleGenerator

interface Passer

class InlineCompileResult
CompileResult <|-- InlineCompileResult

class NumberFilter
Filter <|-- NumberFilter

class RuleLexer
Lexer <|-- RuleLexer

class CompileApplication
Application <|-- CompileApplication

interface Collector

class OrState

interface ParseState

interface Rule

interface Error

class PathTargets
Targets <|-- PathTargets

class Location

class SingleHead
Head <|-- SingleHead

class StripRule
Rule <|-- StripRule

class CompileErrors

class Ok
Result <|-- Ok

interface Parser
Stage <|-- Parser

interface Lexer
Stage <|-- Lexer

class DivideRule
Rule <|-- DivideRule

interface IOResult

class LocatingRule
Rule <|-- LocatingRule

class SuffixRule
Rule <|-- SuffixRule

class TypeScriptPasser
Passer <|-- TypeScriptPasser

interface Result

interface AfterAll

class PlantUMLLang

class Main

class LastLocator
Locator <|-- LastLocator

class MutableDivideState
DivideState <|-- MutableDivideState

interface CompileError
Error <|-- CompileError

interface Locator

class ContextRule
Rule <|-- ContextRule

class RangeHead
Head <|-- RangeHead

interface Source

interface Roots

class FlatMapHead
Head <|-- FlatMapHead

class CommonLang

class JavaLang

class StringRule
Rule <|-- StringRule

class ThrowableError
Error <|-- ThrowableError

interface Head

class StatementFolder
Folder <|-- StatementFolder

interface Generator
Stage <|-- Generator

class NodeContext
Context <|-- NodeContext

interface CompileResult

class EmptyHead
Head <|-- EmptyHead

interface Stage

class PathSources
Sources <|-- PathSources

class ResultCollector
Collector <|-- ResultCollector

interface DivideState

class PlantUMLTargetPlatform
TargetPlatform <|-- PlantUMLTargetPlatform

class MapRoots
Roots <|-- MapRoots

class PrefixRule
Rule <|-- PrefixRule

class EmptyAfterAll
AfterAll <|-- EmptyAfterAll

class ExactRule
Rule <|-- ExactRule

class PathSource
Source <|-- PathSource

class StringContext
Context <|-- StringContext

class TypeRule
Rule <|-- TypeRule

class InlineNodeList
NodeList <|-- InlineNodeList

class FirstLocator
Locator <|-- FirstLocator

interface Node

class OrRule
Rule <|-- OrRule

interface Iter

class NodeRule
Rule <|-- NodeRule

class Iters

class ApplicationBuilder

class DelimitedFolder
Folder <|-- DelimitedFolder

interface Context

class MergeDiagram
AfterAll <|-- MergeDiagram

interface Sources

interface Application

class ImmutableParseState
ParseState <|-- ImmutableParseState

class TreeParser
Parser <|-- TreeParser

class Err
Result <|-- Err

class AfterPasser
Passer <|-- AfterPasser

class SafeFiles

class HeadedIter
Iter <|-- HeadedIter

class MapNode
Node <|-- MapNode

class FilterRule
Rule <|-- FilterRule

class InlineIOResult
IOResult <|-- InlineIOResult

Iters --> Tuple2
Iters --> EmptyHead
Iters --> HeadedIter
Iters --> RangeHead
Iters --> SingleHead
Iters --> ArrayList
Iters --> List
Iters --> Map
Iters --> Optional
MergeDiagram --> Tuple2
MergeDiagram --> ListCollector
MergeDiagram --> Iters
MergeDiagram --> InlineNodeList
MergeDiagram --> MapNode
MergeDiagram --> NodeList
MergeDiagram --> ArrayList
MergeDiagram --> Collection
MergeDiagram --> Collections
MergeDiagram --> HashMap
MergeDiagram --> List
Roots --> Tuple2
Roots --> Iter
Roots --> Node
Roots --> Location
Node --> Tuple2
Node --> Iter
Node --> Optional
ParseState --> Location
FilterRule --> CompileErrors
Passer --> Tuple2
Passer --> Node
Passer --> ParseState
Passer --> Optional
FlatMapHead --> Iter
FlatMapHead --> Function
Result --> Tuple2
Result --> Function
Result --> Supplier
ApplicationBuilder --> Error
ApplicationBuilder --> Compiler
ApplicationBuilder --> StagedCompiler
ApplicationBuilder --> TargetPlatform
ApplicationBuilder --> Sources
ApplicationBuilder --> PathTargets
ApplicationBuilder --> Targets
ApplicationBuilder --> FlattenJava
ApplicationBuilder --> JavaLang
ApplicationBuilder --> AfterAll
ApplicationBuilder --> Passer
ApplicationBuilder --> Generator
ApplicationBuilder --> RuleGenerator
ApplicationBuilder --> Lexer
ApplicationBuilder --> RuleLexer
ApplicationBuilder --> Parser
ApplicationBuilder --> TreeParser
ApplicationBuilder --> Path
ApplicationBuilder --> Optional
OrState --> Err
OrState --> Ok
OrState --> CompileResult
OrState --> InlineCompileResult
OrState --> CompileError
OrState --> Context
OrState --> ImmutableCompileError
OrState --> ArrayList
OrState --> List
OrState --> Optional
DivideRule --> Tuple2
DivideRule --> Joiner
DivideRule --> ListCollector
DivideRule --> ResultCollector
DivideRule --> Iter
DivideRule --> Iters
DivideRule --> InlineCompileResult
DivideRule --> CompileErrors
DivideRule --> InlineNodeList
DivideRule --> MapNode
DivideRule --> NodeList
DivideRule --> DivideState
DivideRule --> MutableDivideState
DivideRule --> Folder
DivideRule --> StatementFolder
DivideRule --> Optional
Locator --> Optional
ListCollector --> ArrayList
ListCollector --> List
IOResult --> Result
IOResult --> IOException
IOResult --> Function
Stage --> CompileResult
Iter --> Collector
Iter --> Result
Iter --> Optional
Iter --> BiFunction
Iter --> Function
Iter --> Predicate
ResultCollector --> Ok
ResultCollector --> Result
AfterPasser --> ListCollector
AfterPasser --> Iter
AfterPasser --> Iters
AfterPasser --> InlineNodeList
AfterPasser --> MapNode
AfterPasser --> NodeList
PrefixRule --> CompileErrors
Compiler --> CompileResult
Compiler --> Location
Compiler --> Map
Head --> Optional
OrRule --> Context
OrRule --> NodeContext
OrRule --> StringContext
OrRule --> List
OrRule --> Function
NodeContext --> Node
NodeList --> Iter
PathSource --> SafeFiles
PathSource --> Path
PathSource --> ArrayList
PathSource --> Collections
PathSource --> List
PathTargets --> Iters
PathTargets --> SafeFiles
PathTargets --> Files
PathTargets --> Path
CompileErrors --> Err
CompileErrors --> CompileResult
CompileErrors --> InlineCompileResult
CompileErrors --> NodeContext
CompileErrors --> StringContext
CompileErrors --> Node
CompileErrors --> ImmutableCompileError
DivideState --> Tuple2
DivideState --> Optional
DivideState --> Stream
Sources --> IOResult
Sources --> Location
Sources --> Map
Parser --> Roots
HeadedIter --> Ok
Lexer --> Location
Lexer --> Roots
Lexer --> Map
TreeParser --> Tuple2
TreeParser --> MapCollector
TreeParser --> Ok
TreeParser --> InlineCompileResult
TreeParser --> CompileError
TreeParser --> CompileResult
TreeParser --> InlineNodeList
TreeParser --> Node
TreeParser --> NodeList
TreeParser --> Location
TreeParser --> AfterAll
TreeParser --> MapRoots
TreeParser --> Passer
TreeParser --> Map
MapRoots --> Iters
MapRoots --> Map
InlineNodeList --> Iters
InlineNodeList --> ArrayList
InlineNodeList --> List
TypescriptRoots --> DivideRule
TypescriptRoots --> ExactRule
TypescriptRoots --> LocatingRule
TypescriptRoots --> OrRule
TypescriptRoots --> PrefixRule
TypescriptRoots --> Rule
TypescriptRoots --> StringRule
TypescriptRoots --> SuffixRule
TypescriptRoots --> TypeRule
TypescriptRoots --> List
Rule --> CompileResult
Rule --> Node
RuleGenerator --> Tuple2
RuleGenerator --> MapCollector
RuleGenerator --> ResultCollector
RuleGenerator --> CompileResult
RuleGenerator --> InlineCompileResult
RuleGenerator --> Rule
Application --> Error
Application --> Optional
Generator --> Location
Generator --> Roots
Generator --> Map
StringRule --> Ok
StringRule --> InlineCompileResult
StringRule --> CompileErrors
StringRule --> MapNode
MapNode --> Joiner
MapNode --> Iters
MapNode --> HashMap
MapNode --> Map
MapNode --> BiFunction
MapNode --> Function
MapNode --> Collectors
MapNode --> Stream
Folder --> DivideState
Source --> IOResult
Source --> Location
PathSources --> Tuple2
PathSources --> MapCollector
PathSources --> ResultCollector
PathSources --> Iter
PathSources --> InlineIOResult
PathSources --> SafeFiles
PathSources --> Files
PathSources --> Path
ThrowableError --> PrintWriter
ThrowableError --> StringWriter
ExactRule --> Ok
ExactRule --> InlineCompileResult
ExactRule --> CompileErrors
ExactRule --> MapNode
TargetPlatform --> Rule
TargetPlatform --> AfterAll
TargetPlatform --> Passer
TargetPlatform --> Path
AfterAll --> Node
AfterAll --> Location
AfterAll --> Map
MapCollector --> Tuple2
MapCollector --> HashMap
MapCollector --> Map
TypeScriptTargetPlatform --> TypeScriptPasser
TypeScriptTargetPlatform --> TypescriptRoots
TypeScriptTargetPlatform --> EmptyAfterAll
TypeScriptTargetPlatform --> Paths
Joiner --> Optional
ImmutableCompileError --> Context
ImmutableCompileError --> ArrayList
ImmutableCompileError --> Comparator
ImmutableCompileError --> List
ImmutableCompileError --> Collectors
SafeFiles --> Iter
SafeFiles --> Iters
SafeFiles --> Err
SafeFiles --> Ok
SafeFiles --> IOException
SafeFiles --> Files
SafeFiles --> Path
SafeFiles --> Optional
SafeFiles --> Collectors
SafeFiles --> Stream
Targets --> Location
Targets --> IOException
Targets --> Map
Targets --> Optional
StagedCompiler --> Generator
StagedCompiler --> Lexer
StagedCompiler --> Parser
MutableDivideState --> ArrayList
MutableDivideState --> List
CompileApplication --> Compiler
CompileApplication --> ApplicationError
CompileApplication --> ThrowableError
CompileApplication --> Location
CompileApplication --> Sources
CompileApplication --> Targets
CompileApplication --> Map
ContextRule --> NodeContext
ContextRule --> StringContext
ContextRule --> ImmutableCompileError
ContextRule --> List
PlantUMLTargetPlatform --> AfterPasser
PlantUMLTargetPlatform --> MergeDiagram
PlantUMLTargetPlatform --> PlantUMLLang
PlantUMLTargetPlatform --> Paths
CommonLang --> ExactRule
CommonLang --> Rule
CommonLang --> StripRule
CommonLang --> TypeRule
LocatingRule --> CompileErrors
LocatingRule --> FirstLocator
LocatingRule --> LastLocator
LocatingRule --> Locator
LocatingRule --> Optional
NodeRule --> Ok
NodeRule --> InlineCompileResult
NodeRule --> CompileErrors
NodeRule --> MapNode
SuffixRule --> CompileErrors
JavaLang --> ContextRule
JavaLang --> DivideRule
JavaLang --> LocatingRule
JavaLang --> NodeRule
JavaLang --> OrRule
JavaLang --> PrefixRule
JavaLang --> Rule
JavaLang --> StringRule
JavaLang --> StripRule
JavaLang --> SuffixRule
JavaLang --> FilterRule
JavaLang --> TypeRule
JavaLang --> DelimitedFolder
JavaLang --> List
PlantUMLLang --> DivideRule
PlantUMLLang --> ExactRule
PlantUMLLang --> LocatingRule
PlantUMLLang --> OrRule
PlantUMLLang --> PrefixRule
PlantUMLLang --> Rule
PlantUMLLang --> StringRule
PlantUMLLang --> SuffixRule
PlantUMLLang --> TypeRule
PlantUMLLang --> StatementFolder
PlantUMLLang --> List
CompileResult --> Tuple2
CompileResult --> Result
CompileResult --> CompileError
CompileResult --> Function
CompileResult --> Supplier
Main --> Iters
Main --> ApplicationBuilder
Main --> Error
Main --> PlantUMLTargetPlatform
Main --> TypeScriptTargetPlatform
Main --> PathSources
Main --> Sources
Main --> Paths
FlattenJava --> ListCollector
FlattenJava --> InlineNodeList
FlattenJava --> NodeList
RuleLexer --> Tuple2
RuleLexer --> MapCollector
RuleLexer --> ResultCollector
RuleLexer --> Iters
RuleLexer --> CompileResult
RuleLexer --> InlineCompileResult
RuleLexer --> Node
RuleLexer --> Rule
RuleLexer --> MapRoots
Location --> List
TypeRule --> InlineCompileResult
TypeRule --> Context
TypeRule --> NodeContext
TypeRule --> StringContext
TypeRule --> CompileError
TypeRule --> CompileErrors
TypeRule --> ImmutableCompileError
TypeRule --> List
@enduml
