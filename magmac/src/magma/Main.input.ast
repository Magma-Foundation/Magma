block = {
	children : [
		package = {
			internal : namespace = {
				namespace : ["magma"]
			}
		},
		import = {
			external : namespace = {
				namespace : ["magma", "compile", "Error_"]
			}
		},
		import = {
			external : namespace = {
				namespace : ["magma", "compile", "lang", "ClassSplitter"]
			}
		},
		import = {
			external : namespace = {
				namespace : ["magma", "compile", "lang", "Generator"]
			}
		},
		import = {
			external : namespace = {
				namespace : ["magma", "compile", "lang", "JavaLang"]
			}
		},
		import = {
			external : namespace = {
				namespace : ["magma", "compile", "lang", "JavaNormalizer"]
			}
		},
		import = {
			external : namespace = {
				namespace : ["magma", "compile", "lang", "MagmaFormatter"]
			}
		},
		import = {
			external : namespace = {
				namespace : ["magma", "compile", "lang", "MagmaGenerator"]
			}
		},
		import = {
			external : namespace = {
				namespace : ["magma", "compile", "lang", "MagmaLang"]
			}
		},
		import = {
			external : namespace = {
				namespace : ["magma", "compile", "lang", "PackageRemover"]
			}
		},
		import = {
			external : namespace = {
				namespace : ["magma", "compile", "rule", "Node"]
			}
		},
		import = {
			external : namespace = {
				namespace : ["magma", "compile", "rule", "Rule"]
			}
		},
		import = {
			external : namespace = {
				namespace : ["java", "io", "IOException"]
			}
		},
		import = {
			external : namespace = {
				namespace : ["java", "nio", "file", "Files"]
			}
		},
		import = {
			external : namespace = {
				namespace : ["java", "nio", "file", "Paths"]
			}
		},
		import = {
			external : namespace = {
				namespace : ["java", "util", "Arrays"]
			}
		},
		import = {
			external : namespace = {
				namespace : ["java", "util", "Collections"]
			}
		},
		class = {
			name : "Main",
			modifiers : ["public"],
			child : block = {
				children : [
					method = {
						definition : definition = {
							name : "main",
							modifiers : ["public", "static"],
							type : symbol = {
								value : "void"
							}
						},
						params : [
							definition = {
								name : "args",
								type : array = {
									child : symbol = {
										value : "String"
									}
								}
							}
						],
						child : block = {
							children : [
								try = {
									child : block = {
										children : [
											declaration = {
												definition : definition = {
													name : "source",
													type : symbol = {
														value : "var"
													}
												},
												value : invocation = {
													caller : access = {
														child : "get",
														parent : symbol = {
															value : "Paths"
														}
													},
													arguments : [
														string = {
															value : "."
														},
														string = {
															value : "magmac"
														},
														string = {
															value : "src"
														},
														string = {
															value : "magma"
														},
														string = {
															value : "Main.java"
														}
													]
												}
											},
											declaration = {
												definition : definition = {
													name : "input",
													type : symbol = {
														value : "var"
													}
												},
												value : invocation = {
													arguments : [
														symbol = {
															value : "source"
														}
													],
													caller : access = {
														child : "readString",
														parent : symbol = {
															value : "Files"
														}
													}
												}
											},
											declaration = {
												definition : definition = {
													name : "target",
													type : symbol = {
														value : "var"
													}
												},
												value : invocation = {
													arguments : [
														string = {
															value : "Main.mgs"
														}
													],
													caller : access = {
														child : "resolveSibling",
														parent : symbol = {
															value : "source"
														}
													}
												}
											},
											declaration = {
												definition : definition = {
													name : "parseResult",
													type : symbol = {
														value : "var"
													}
												},
												value : invocation = {
													arguments : [
														symbol = {
															value : "input"
														}
													],
													caller : access = {
														child : "toNode",
														parent : invocation = {
															arguments : [

															],
															caller : access = {
																child : "createRootRule",
																parent : symbol = {
																	value : "JavaLang"
																}
															}
														}
													}
												}
											},
											declaration = {
												definition : definition = {
													name : "parseError",
													type : symbol = {
														value : "var"
													}
												},
												value : invocation = {
													arguments : [

													],
													caller : access = {
														child : "findError",
														parent : symbol = {
															value : "parseResult"
														}
													}
												}
											},
											invocation = {
												caller : access = {
													child : "ifPresent",
													parent : symbol = {
														value : "parseError"
													}
												},
												arguments : [
													lambda = {
														param-name : "error",
														child : invocation = {
															caller : symbol = {
																value : "print"
															},
															arguments : [
																symbol = {
																	value : "error"
																},
																number = {
																	value : "0"
																}
															]
														}
													}
												]
											},
											declaration = {
												definition : definition = {
													name : "root",
													type : symbol = {
														value : "var"
													}
												},
												value : invocation = {
													arguments : [

													],
													caller : access = {
														child : "orElseThrow",
														parent : invocation = {
															arguments : [

															],
															caller : access = {
																child : "create",
																parent : symbol = {
																	value : "parseResult"
																}
															}
														}
													}
												}
											},
											invocation = {
												caller : access = {
													child : "writeString",
													parent : symbol = {
														value : "Files"
													}
												},
												arguments : [
													invocation = {
														arguments : [
															string = {
																value : "Main.input.ast"
															}
														],
														caller : access = {
															child : "resolveSibling",
															parent : symbol = {
																value : "source"
															}
														}
													},
													invocation = {
														arguments : [

														],
														caller : access = {
															child : "toString",
															parent : symbol = {
																value : "root"
															}
														}
													}
												]
											},
											declaration = {
												definition : definition = {
													name : "generated",
													type : symbol = {
														value : "var"
													}
												},
												value : invocation = {
													caller : symbol = {
														value : "generate"
													},
													arguments : [
														symbol = {
															value : "root"
														}
													]
												}
											},
											invocation = {
												caller : access = {
													child : "writeString",
													parent : symbol = {
														value : "Files"
													}
												},
												arguments : [
													invocation = {
														arguments : [
															string = {
																value : "Main.output.ast"
															}
														],
														caller : access = {
															child : "resolveSibling",
															parent : symbol = {
																value : "source"
															}
														}
													},
													invocation = {
														arguments : [

														],
														caller : access = {
															child : "toString",
															parent : symbol = {
																value : "generated"
															}
														}
													}
												]
											},
											declaration = {
												definition : definition = {
													name : "rule",
													type : symbol = {
														value : "Rule"
													}
												},
												value : invocation = {
													arguments : [

													],
													caller : access = {
														child : "createRootRule",
														parent : symbol = {
															value : "MagmaLang"
														}
													}
												}
											},
											declaration = {
												definition : definition = {
													name : "generateResult",
													type : symbol = {
														value : "var"
													}
												},
												value : invocation = {
													arguments : [
														symbol = {
															value : "generated"
														}
													],
													caller : access = {
														child : "fromNode",
														parent : symbol = {
															value : "rule"
														}
													}
												}
											},
											declaration = {
												definition : definition = {
													name : "generateError",
													type : symbol = {
														value : "var"
													}
												},
												value : invocation = {
													arguments : [

													],
													caller : access = {
														child : "findErr",
														parent : symbol = {
															value : "generateResult"
														}
													}
												}
											},
											invocation = {
												caller : access = {
													child : "ifPresent",
													parent : symbol = {
														value : "generateError"
													}
												},
												arguments : [
													lambda = {
														param-name : "error",
														child : invocation = {
															caller : symbol = {
																value : "print"
															},
															arguments : [
																symbol = {
																	value : "error"
																},
																number = {
																	value : "0"
																}
															]
														}
													}
												]
											},
											invocation = {
												caller : access = {
													child : "writeString",
													parent : symbol = {
														value : "Files"
													}
												},
												arguments : [
													symbol = {
														value : "target"
													},
													invocation = {
														arguments : [

														],
														caller : access = {
															child : "orElseThrow",
															parent : invocation = {
																arguments : [

																],
																caller : access = {
																	child : "findValue",
																	parent : symbol = {
																		value : "generateResult"
																	}
																}
															}
														}
													}
												]
											}
										]
									}
								},
								catch = {
									condition : declaration = {
										name : "e",
										type : symbol = {
											value : "IOException"
										}
									},
									child : block = {
										children : [
											comment = {
												value : "noinspection CallToPrintStackTrace"
											},
											invocation = {
												arguments : [

												],
												caller : access = {
													child : "printStackTrace",
													parent : symbol = {
														value : "e"
													}
												}
											}
										]
									}
								}
							]
						}
					},
					method = {
						definition : definition = {
							name : "print",
							modifiers : ["private", "static"],
							type : symbol = {
								value : "void"
							}
						},
						params : [
							definition = {
								name : "e",
								type : symbol = {
									value : "Error_"
								}
							},
							definition = {
								name : "depth",
								type : symbol = {
									value : "int"
								}
							}
						],
						child : block = {
							children : [
								declaration = {
									definition : definition = {
										name : "actualContext",
										type : symbol = {
											value : "var"
										}
									},
									value : invocation = {
										arguments : [
											string = {
												value : ""
											}
										],
										caller : access = {
											child : "orElse",
											parent : invocation = {
												arguments : [

												],
												caller : access = {
													child : "findContext",
													parent : symbol = {
														value : "e"
													}
												}
											}
										}
									}
								},
								declaration = {
									definition : definition = {
										name : "index",
										type : symbol = {
											value : "var"
										}
									},
									value : invocation = {
										arguments : [
											char = {
												value : "\n"
											}
										],
										caller : access = {
											child : "indexOf",
											parent : symbol = {
												value : "actualContext"
											}
										}
									}
								},
								declaration = {
									definition : definition = {
										name : "context",
										type : symbol = {
											value : "var"
										}
									},
									value : ternary = {
										true : symbol = {
											value : "actualContext"
										},
										condition : equals = {
											right : number = {
												value : "-1"
											},
											left : symbol = {
												value : "index"
											}
										},
										false : invocation = {
											caller : access = {
												child : "substring",
												parent : symbol = {
													value : "actualContext"
												}
											},
											arguments : [
												number = {
													value : "0"
												},
												symbol = {
													value : "index"
												}
											]
										}
									}
								},
								declaration = {
									definition : definition = {
										name : "message",
										type : symbol = {
											value : "var"
										}
									},
									value : invocation = {
										arguments : [

										],
										caller : access = {
											child : "findMessage",
											parent : symbol = {
												value : "e"
											}
										}
									}
								},
								invocation = {
									caller : access = {
										child : "ifPresent",
										parent : symbol = {
											value : "message"
										}
									},
									arguments : [
										lambda = {
											param-name : "s",
											child : invocation = {
												caller : access = {
													child : "println",
													parent : access = {
														child : "err",
														parent : symbol = {
															value : "System"
														}
													}
												},
												arguments : [
													add = {
														left : invocation = {
															arguments : [
																symbol = {
																	value : "depth"
																}
															],
															caller : access = {
																child : "repeat",
																parent : string = {
																	value : "\t"
																}
															}
														},
														right : add = {
															left : symbol = {
																value : "depth"
															},
															right : add = {
																left : string = {
																	value : " = "
																},
																right : add = {
																	left : symbol = {
																		value : "s"
																	},
																	right : add = {
																		left : string = {
																			value : " "
																		},
																		right : symbol = {
																			value : "context"
																		}
																	}
																}
															}
														}
													}
												]
											}
										}
									]
								},
								declaration = {
									definition : definition = {
										name : "causes",
										type : symbol = {
											value : "var"
										}
									},
									value : invocation = {
										arguments : [
											invocation = {
												arguments : [

												],
												caller : access = {
													child : "emptyList",
													parent : symbol = {
														value : "Collections"
													}
												}
											}
										],
										caller : access = {
											child : "orElse",
											parent : invocation = {
												arguments : [

												],
												caller : access = {
													child : "findCauses",
													parent : symbol = {
														value : "e"
													}
												}
											}
										}
									}
								},
								if = {
									child : block = {
										children : [
											return = {
											}
										]
									},
									condition-outer : condition-outer = {
										condition : invocation = {
											arguments : [

											],
											caller : access = {
												child : "isEmpty",
												parent : symbol = {
													value : "causes"
												}
											}
										}
									}
								},
								if = {
									condition-outer : condition-outer = {
										condition : greater-than = {
											right : number = {
												value : "1"
											},
											left : invocation = {
												arguments : [

												],
												caller : access = {
													child : "size",
													parent : symbol = {
														value : "causes"
													}
												}
											}
										}
									},
									child : block = {
										children : [
											for = {
												name : "cause",
												type : symbol = {
													value : "Error_"
												},
												collection : symbol = {
													value : "causes"
												},
												child : block = {
													children : [
														invocation = {
															caller : symbol = {
																value : "print"
															},
															arguments : [
																symbol = {
																	value : "cause"
																},
																symbol = {
																	value : "depth"
																}
															]
														}
													]
												}
											}
										]
									}
								},
								else = {
									child : block = {
										children : [
											invocation = {
												caller : symbol = {
													value : "print"
												},
												arguments : [
													invocation = {
														arguments : [
															number = {
																value : "0"
															}
														],
														caller : access = {
															child : "get",
															parent : symbol = {
																value : "causes"
															}
														}
													},
													add = {
														right : number = {
															value : "1"
														},
														left : symbol = {
															value : "depth"
														}
													}
												]
											}
										]
									}
								}
							]
						}
					},
					method = {
						params : [
							definition = {
								name : "root",
								type : symbol = {
									value : "Node"
								}
							}
						],
						definition : definition = {
							name : "generate",
							modifiers : ["private", "static"],
							type : symbol = {
								value : "Node"
							}
						},
						child : block = {
							children : [
								declaration = {
									definition : definition = {
										name : "list",
										type : symbol = {
											value : "var"
										}
									},
									value : invocation = {
										caller : access = {
											child : "asList",
											parent : symbol = {
												value : "Arrays"
											}
										},
										arguments : [
											constructor = {
												arguments : [

												],
												caller : symbol = {
													value : "PackageRemover"
												}
											},
											constructor = {
												arguments : [

												],
												caller : symbol = {
													value : "ClassSplitter"
												}
											},
											constructor = {
												arguments : [

												],
												caller : symbol = {
													value : "JavaNormalizer"
												}
											},
											constructor = {
												arguments : [

												],
												caller : symbol = {
													value : "MagmaGenerator"
												}
											},
											constructor = {
												arguments : [

												],
												caller : symbol = {
													value : "MagmaFormatter"
												}
											}
										]
									}
								},
								declaration = {
									value : symbol = {
										value : "root"
									},
									definition : definition = {
										name : "acc",
										type : symbol = {
											value : "Node"
										}
									}
								},
								for = {
									name : "generator",
									type : symbol = {
										value : "Generator"
									},
									collection : symbol = {
										value : "list"
									},
									child : block = {
										children : [
											assignment = {
												reference : "acc",
												value : invocation = {
													caller : access = {
														child : "generate",
														parent : symbol = {
															value : "generator"
														}
													},
													arguments : [
														symbol = {
															value : "acc"
														},
														number = {
															value : "-1"
														}
													]
												}
											}
										]
									}
								},
								return = {
									child : symbol = {
										value : "acc"
									}
								}
							]
						}
					}
				]
			}
		}
	]
}