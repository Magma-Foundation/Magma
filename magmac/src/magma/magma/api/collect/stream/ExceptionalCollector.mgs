import magma.api.result.Ok;
import magma.api.result.Result;
export default class def ExceptionalCollector<C, E, T>(collector : Collector<T, C>) => {
	public def createInitial(this : Self) => Ok(collector.createInitial());
	public def fold(this : Self, current : Result<C, E>, next : Result<T, E>) => current.flatMapValue(() => next.mapValue(() => collector.fold(inner, inner0)));
	implements Collector<Result<T, E>, Result<C, E>>;
}