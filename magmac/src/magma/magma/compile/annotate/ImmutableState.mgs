import magma.api.collect.List;
import magma.java.JavaList;
() => {
	private final frames : List<List<String>>;
	ImmutableState : public => {
		this=frames;
	}
	ImmutableState : public => {
		this(JavaList());
	}
	public enter : State => {
		return ImmutableState(frames.pushLast(JavaList.empty()));
	}
	public computeDepth : int => {
		return frames.size();
	}
	public exit : State => {
		return ImmutableState(frames.popLastAndDiscard().orElse(frames));
	}
}